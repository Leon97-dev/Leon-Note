# Superstruct vs Zod vs Joi

- `Superstruct`
  \_ 스타일: 초간단 struct 방식
  \_ TS 친화도: 제한적
  \_ 에러 구조: 단순
  \_ 프론트 사용: 좋음(가벼움)
  \_ 러닝커브: 가장 쉬움

- `Zod`
  \_ 스타일: 모던/타입 중심 방식
  \_ TS 친화도: 매우 높음
  \_ 에러 구조: 상세 issue 배열
  \_ 프론트 사용: 프론트에서도 자주 씀
  \_ 러닝커브: 보통

- `Joi`
  \_ 스타일: 전통적인 스키마 방식
  \_ TS 친화도: 낮음
  \_ 에러 구조: 단일 메시지
  \_ 프론트 사용: 거의 안 씀
  \_ 러닝커브: 보통

---

# joi vs zod

## Q. 백엔드 개발자로서 프론트 작업이 필요하거나 프론트와 협업할 때 zod가 훨씬 좋은데, joi를 쓸 이유가 없어 보이는데?

_결론_
지금 시대 기준으로 보면 Zod가 업계의 “상위 호환”처럼 느껴지는 게 거의 사실이다.
특히 백엔드+프론트 모두 다룰 수 있는 풀스택 환경에서는 Zod가 사실상 정답에 가깝다.
하지만 왜 아직도 Joi가 쓰이는가?

**< Zod가 Joi보다 우월한 지점 >**

1. `타입스크립트와의 궁합`
   Zod는 스키마가 곧 타입이라 프론트·백 모두 공유 가능하다.
   Joi는 타입 추론이 거의 불가능해서 TS에서 손해가 많다.

2. `프론트에서도 사용 가능`
   Zod: 브라우저에서도 동작
   Joi: 브라우저 번들에 포함하면 무거움 + 거의 안 씀

3. `에러 구조가 프론트 친화적`
   frontend form에서 validation errors를 매핑할 때 Zod의 issues[] 구조가 훨씬 다루기 쉽다.

_그렇다면 Joi는 왜 존재할까?_

1. `레거시(Node + Express) 대규모 백엔드에서 관성적으로 사용`
   Zod는 비교적 최신이고 Joi는 10년 가까이 쓰인 검증 표준이었다.
   레거시 시스템이 많으면 Joi도 계속 유지된다.

2. `TS를 안 쓰는 순수 JS 백엔드에서는 Joi가 더 익숙함`
   빠르게 검증하고 끝나는 API 서버
   internal tool
   사내서버 같은 TS 필요 없는 곳 → Joi 쓰는 경우 아직도 많다

3. `검증 기능 자체는 여전히 강력`
   정규식, date, 특정 패턴 등
   “case-based validation”은 Joi가 직관적으로 느껴지는 개발자도 있다.

4. `팀이 프론트와 스키마 공유 필요가 없을 때`
   백엔드 단독 API라면 굳이 Zod까지 쓸 이유가 없다.
   검증 → DB → response로 끝나는 단순 구조라면 Joi로도 충분하다.

---

## Q. joi zod 보다 더 편한 superstruct가 있지 않아?

_결론_
superstruct는 Zod보다 더 “간단하고 가벼운” 느낌이 있지만,
실무에서 Joi·Zod처럼 주류가 되진 못했다.

_superstruct는 어떤 느낌이냐?_
한마디로 표현하면 “미니멀 + 직관 + 선언형 + 초가벼움” 코드 스타일이 Zod보다 훨씬 짧고 단순하다.
문법이 거의 “데이터 구조를 그대로 적는 느낌”이라 신기하게도 러닝커브가 낮다.

_그런데도 주류가 되지 못한 이유_

1. `Zod의 타입스크립트 통합에 비해 약함`
   superstruct도 TS 타입을 뽑을 수는 있는데,
   Zod처럼 “스키마가 곧 타입” 수준의 강력함이 아니다. → TS 환경에서는 Zod가 너무 강력

2. `생태계가 작고 자료가 적다`
   서드파티 예제, 실전 사례, 문서 깊이에서 Zod > Joi > superstruct 순
   superstruct는 “조용히 쓰는 소수 개발자들의 도구” 느낌

3. `커스텀 검증 로직이 가능한데, Zod만큼 깔끔하지 않다`
   superstruct는 커스텀 만들려면 조금 복잡하고 코드가 길어진다.

```js
// superstruct
const Positive = refine(number(), 'Positive', (n) => n > 0);
// Zod
z.number().positive();
```

4. `프론트와 백 공유 시에도 Zod를 선호`
   Next.js, React Hook Form, TRPC 같은 최신 스택과의 호환성 관점에서도,
   Zod가 사실상 표준이 되어버렸다.

_요약_
superstruct = 취향용 / 소규모 프로젝트용
Zod = 실무/협업 표준
Joi = JS-only 백엔드에서 레거시 + 빠른 API용

---
