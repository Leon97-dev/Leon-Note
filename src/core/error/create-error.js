// TODO) Create-Error: 공용 HTTP 에러 생성 유틸
// ?) 간단하게 HTTP 에러 객체를 만들고 싶을 때 사용하는 “함수 기반 에러 팩토리”
export function createError(
  statusCode = 500, // 기본 상태 코드 (기본값: 500 서버 에러)
  message = '서버 에러', // 에러 메시지
  path = null // 잘못된 필드 위치 등 추가 정보
) {
  const error = new Error(message); // 기본 Error 객체 생성
  error.statusCode = statusCode; // 응답 상태 코드 설정
  error.isOperational = true; // 의도한 에러임을 표시

  // ?) ValidationError처럼 특정 필드 위치 저장
  if (path) {
    error.path = path;
  }

  return error;
}

/**
 * -------------------------------
 * [Create-Error: 함수 기반 HTTP 에러 생성 유틸]
 * -------------------------------
 *
 * &) 목적
 * 간단한 API 서버에서 클래스 기반 에러 시스템(AppError 등)을 사용하지 않을 때,
 * 빠르게 HTTP 에러 객체를 만들기 위한 가벼운 유틸 함수이다.
 * statusCode, message, path 등 기본적인 필드만 가진 에러를
 * 즉시 생성할 수 있어 소규모 프로젝트에서 특히 유용하다.
 *
 * -------------------------------
 * [왜 필요한가?]
 * -------------------------------
 *
 * 1) 클래스 기반 에러가 너무 무겁거나 불필요한 경우
 *    → 작은 프로젝트에서 AppError 클래스를 만드는 것은 과한 경우가 있음.
 *
 * 2) http-errors 같은 외부 라이브러리를 설치하고 싶지 않을 때
 *    → 가벼운 방식으로 필요한 정보만 가진 에러를 생성 가능.
 *
 * 3) 간단한 에러 인터페이스가 필요한 모노레포/공용 모듈 환경
 *    → JS 파일 여러 곳에서 동일한 에러 형태를 재사용할 수 있음.
 *
 * -------------------------------
 * [생성되는 에러의 특징]
 * -------------------------------
 *
 * - 기본 Error 객체를 기반으로 작동
 * - statusCode: HTTP 상태 코드 저장
 * - message: 에러 메시지
 * - path(optional): 유효성 검사 실패 시 필드 정보
 * - isOperational: 글로벌 에러 핸들러에서 “의도한 에러”로 분류하기 위한 표식
 *
 * 덕분에 error-handler.js에서 AppError와 동일하게 처리 가능하다.
 *
 * -------------------------------
 * [현재 프로젝트에서 사용하지 않는 이유]
 * -------------------------------
 *
 * 이 프로젝트는 이미 다음과 같은 구조를 사용한다:
 *
 * - AppError (기본 규격 클래스)
 * - NotFoundError / ValidationError / UnauthorizedError / ConflictError
 * - 전역 에러 핸들러(error-handler.js)
 *
 * 즉, **클래스 기반 에러 아키텍처가 이미 완성된 상태**이기 때문에
 * createError()는 기능적으로 중복된다.
 *
 * 하지만 필요할 때 언제든 사용할 수 있는 “보조 유틸”로 남겨두는 가치가 있다.
 *
 * -------------------------------
 * [정리]
 * -------------------------------
 *
 * createError는 AppError 중심의 에러 시스템이 필요 없는 상황에서
 * 빠르게 HTTP 에러 객체를 만들기 위한 간단한 팩토리 함수다.
 * 이 프로젝트에서는 보조적으로만 존재하지만,
 * 소규모 API, 샌드박스 환경, 테스트 환경에서 매우 유용하다.
 */
